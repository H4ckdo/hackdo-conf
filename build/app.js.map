{"version":3,"sources":["../app.jsx"],"names":[],"mappings":";;;;;;;;;;;;AAAA,IAAM,UAAU,QAAQ,SAAR,CAAhB;AACA,IAAM,OAAO,QAAQ,MAAR,CAAb;;eACiB,QAAQ,eAAR,C;IAAT,I,YAAA,I;;WACyB,QAAQ,GAAR,CAAY,QAAZ,KAAyB,YAAzB,GAAwC,sCAAxC,GAA8E,uC;IAAvG,I,QAAA,I;IAAM,I,QAAA,I;IAAM,Q,QAAA,Q;;AACpB,IAAM,kBAAkB,+BAAxB;;gBAC4B,4B;IAApB,e,aAAA,e;;AAER;;;;;;AAIA,IAAM;AAAA,uFAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAChB;AACM,kBAFU,GAED,8BAFC;AAGV,uBAHU,GAGI,yCAHJ;AAIV,4BAJU,GAIS,kCAJT;AAKZ,eALY,GAKN,SALM;AAAA;AAAA,mBAOc,YAAY,GAAZ,CAPd;;AAAA;AAOZ,6BAPY;;AAAA,iBAQZ,gBARY;AAAA;AAAA;AAAA;;AAAA,iBASX,kBAAkB,EATP;AAAA;AAAA;AAAA;;AAUZ,gBAAI,GAAJ,CAAQ,QAAQ,MAAR,CAAe,iBAAf,CAAR;AACA,gBAAI,MAAJ,CAAW,MAAX,EAAmB,QAAQ,KAAR,EAAe,UAAlC;AACA,gBAAI,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;AACA,gBAAI,GAAJ,CAAQ,OAAR,EAAiB,KAAK,OAAL,CAAa,SAAb,EAAwB,UAAxB,CAAjB;AAbY;AAAA,mBAca,OAAO,GAAP,CAdb;;AAAA;AAcR,wBAdQ;AAcyB;AACrC;AACA,gBAAI,aAAa,EAAjB,EAAqB;AACnB,kBAAI,MAAJ,CAAW,IAAX,EAAiB;AAAA,uBAAM,QAAQ,GAAR,CAAY,iBAAZ,EAAkC,IAAlC,SAA0C,IAA1C,CAAN;AAAA,eAAjB,EADmB,CACsD;AAC1E,aAFD,MAEO;AACL,4BAAc,aAAa,KAA3B,EADK,CAC6B;AACnC;AApBW;AAAA;;AAAA;AAsBZ,0BAAc,kBAAkB,KAAhC,EAtBY,CAsB2B;;AAtB3B;AAAA;AAAA;;AAAA;AAyBd,0BAAc,iBAAiB,KAA/B,EAzBc,CAyBwB;;AAzBxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAZ;;AAAA;AAAA;AAAA;AAAA,GAAN;AA4BA,IAAM,gBAAgB,SAAhB,aAAgB,CAAC,KAAD,EAAW;AAC/B,UAAQ,GAAR,CAAY,8BAAZ,EAA4C,KAA5C;AACD,CAFD;;AAIA,kBACG,IADH,CACQ,SADR,EAEG,KAFH,CAES,aAFT","file":"app.js","sourcesContent":["const express = require('express');\nconst path = require('path');\nconst { exec } = require('child_process');\nconst { PORT, HOST, FIXTURES } = process.env.NODE_ENV === \"production\" ? require('config/env/production.js') : require('config/env/development.js');\nconst setDependencies = require('config/globals.js');\nconst { installFixtures } = require('utils/index.js');\n\n/**\n * @function bootstrap\n * @return {type} {bootstrap the connection and routes}\n */\nconst bootstrap = async () => {\n  require('config/logger.js');\n  const routes = require('config/routes.js');\n  const middlewares = require('config/middlewares/index.js');\n  const connectionResult = require('config/connection.js');\n  let app = express();\n\n  let middlewaresResult = await middlewares(app);\n  if (connectionResult) {\n    if(middlewaresResult.ok) {\n      app.use(express.static('./client/public'));\n      app.engine('html', require('ejs').renderFile);\n      app.set('view engine', 'html');\n      app.set('views', path.resolve(__dirname, '../views'));\n      let routesLoades = await routes(app);//define routes\n      //debugger;\n      if (routesLoades.ok) {\n        app.listen(PORT, () => console.log(\"App listen on: \", `${HOST}:${PORT}`))//lift the server\n      } else {\n        errorStarting(routesLoades.error);//log the error\n      }\n    } else {\n      errorStarting(middlewaresResult.error);//log the error\n    }\n  } else {\n    errorStarting(connectionResult.error);//log the error\n  }\n}\nconst errorStarting = (error) => {\n  console.log('Unable to bootstrap the app ', error);\n}\n\nsetDependencies()\n  .then(bootstrap)\n  .catch(errorStarting)\n"]}