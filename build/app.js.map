{"version":3,"sources":["../app.jsx"],"names":[],"mappings":";;;;;;;;;;;;AAAA,IAAM,UAAU,QAAQ,SAAR,CAAhB;AACA,IAAM,OAAO,QAAQ,MAAR,CAAb;;eACiB,QAAQ,eAAR,C;IAAT,I,YAAA,I;;WACyB,QAAQ,GAAR,CAAY,QAAZ,KAAyB,YAAzB,GAAwC,sCAAxC,GAA8E,uC;IAAvG,I,QAAA,I;IAAM,I,QAAA,I;IAAM,Q,QAAA,Q;;AACpB,IAAM,kBAAkB,+BAAxB;;gBAC4B,4B;IAApB,e,aAAA,e;;AAER;;;;;;AAIA,IAAM;AAAA,uFAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAChB;AACM,kBAFU,GAED,8BAFC;AAGV,uBAHU,GAGI,yCAHJ;AAIZ,eAJY,GAIN,SAJM;AAAA;AAAA,mBAKc,YAAY,GAAZ,CALd;;AAAA;AAKZ,6BALY;;AAAA,iBAMb,kBAAkB,EANL;AAAA;AAAA;AAAA;;AAOd,gBAAI,GAAJ,CAAQ,QAAQ,MAAR,CAAe,iBAAf,CAAR;AACA,gBAAI,MAAJ,CAAW,MAAX,EAAmB,QAAQ,KAAR,EAAe,UAAlC;AACA,gBAAI,GAAJ,CAAQ,aAAR,EAAuB,MAAvB;AACA,gBAAI,GAAJ,CAAQ,OAAR,EAAiB,KAAK,OAAL,CAAa,SAAb,EAAwB,UAAxB,CAAjB;AAVc;AAAA,mBAWW,OAAO,GAAP,CAXX;;AAAA;AAWV,wBAXU;AAWuB;AACrC;AACA,gBAAI,aAAa,EAAjB,EAAqB;AACnB,kBAAI,MAAJ,CAAW,IAAX,EAAiB;AAAA,uBAAM,QAAQ,GAAR,CAAY,iBAAZ,EAAkC,IAAlC,SAA0C,IAA1C,CAAN;AAAA,eAAjB,EADmB,CACsD;AAC1E,aAFD,MAEO;AACL,4BAAc,aAAa,KAA3B,EADK,CAC6B;AACnC;AAjBa;AAAA;;AAAA;AAmBd,0BAAc,kBAAkB,KAAhC,EAnBc,CAmByB;;AAnBzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAZ;;AAAA;AAAA;AAAA;AAAA,GAAN;;AAuBA,IAAM,gBAAgB,SAAhB,aAAgB,CAAC,KAAD,EAAW;AAC/B,UAAQ,GAAR,CAAY,8BAAZ,EAA4C,KAA5C;AACD,CAFD;;AAIA,kBACG,IADH,CACQ,SADR,EAEG,KAFH,CAES,aAFT","file":"app.js","sourcesContent":["const express = require('express');\r\nconst path = require('path');\r\nconst { exec } = require('child_process');\r\nconst { PORT, HOST, FIXTURES } = process.env.NODE_ENV === \"production\" ? require('config/env/production.js') : require('config/env/development.js');\r\nconst setDependencies = require('config/globals.js');\r\nconst { installFixtures } = require('utils/index.js');\r\n\r\n/**\r\n * @function bootstrap\r\n * @return {type} {bootstrap the connection and routes}\r\n */\r\nconst bootstrap = async () => {\r\n  require('config/logger.js');\r\n  const routes = require('config/routes.js');\r\n  const middlewares = require('config/middlewares/index.js');\r\n  let app = express();\r\n  let middlewaresResult = await middlewares(app);\r\n  if(middlewaresResult.ok) {\r\n    app.use(express.static('./client/public'));\r\n    app.engine('html', require('ejs').renderFile);\r\n    app.set('view engine', 'html');\r\n    app.set('views', path.resolve(__dirname, '../views'));\r\n    let routesLoades = await routes(app);//define routes\r\n    //debugger;\r\n    if (routesLoades.ok) {\r\n      app.listen(PORT, () => console.log(\"App listen on: \", `${HOST}:${PORT}`))//lift the server\r\n    } else {\r\n      errorStarting(routesLoades.error);//log the error\r\n    }\r\n  } else {\r\n    errorStarting(middlewaresResult.error);//log the error\r\n  }\r\n}\r\n\r\nconst errorStarting = (error) => {\r\n  console.log('Unable to bootstrap the app ', error);\r\n}\r\n\r\nsetDependencies()\r\n  .then(bootstrap)\r\n  .catch(errorStarting)\r\n"]}